<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>TALENTRONICS 2025</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
      :root {
        /* Alexa palette */
        --bg-start:#233D53;           /* Japanese Indigo */
        --bg-end:#064B73;             /* Dark Cerulean */
        --surface:#F9F3E6;            /* Linen (Cream) */
        --accent:#FA532E;             /* Portland Orange */
        --text-blue:#064B73;          /* Dark Cerulean for text */
        --text-gold:#CA9703;          /* Chinese Gold for text */
        --text-dark:#233D53;
        --text-light:#F9F3E6;
      }

      html, body { height:100%; }

      body {
        margin:0;
        padding-top:72px;
        background: var(--surface);   /* Cream/Linen background */
        font-family: sans-serif;
        font-weight: 400;
        color: var(--text-blue);      /* Blue text on cream */
      }

      .hero { background:transparent; padding:36px 0; }

      /* Headings */
      h1 { color: var(--text-blue); font-weight:800; }
      h2, h3, h4 { color: var(--text-blue); font-weight:700; }
      .card-title { color: var(--text-blue); }

      /* Event cards */
      .event-card { border-radius:12px; background: #ffffff; border:1px solid rgba(6,75,115,0.25); color: var(--text-blue); }
      .event-card p, .event-card .small, .event-card strong { color: var(--text-blue); }
      .event-card a { color: var(--text-gold); text-decoration:none; }
      .event-card a:hover { color: var(--accent); }

      /* Table styling - glassmorphic effect */
      table {
        border-collapse: collapse;
        overflow: hidden;
        box-shadow: 0 0 20px rgba(0,0,0,0.1);
      }

      th, td {
        padding: 15px;
        background-color: rgba(6,75,115,0.1);
        color: var(--text-blue);
      }

      th { text-align: left; }

      thead th {
        background-color: var(--text-blue);
        color: var(--text-gold);
        font-weight: 700;
      }

      tbody tr:hover {
        background-color: rgba(202,151,3,0.15);
      }

      tbody td {
        position: relative;
      }

      tbody td:hover::before {
        content: "";
        position: absolute;
        left: 0;
        right: 0;
        top: -9999px;
        bottom: -9999px;
        background-color: rgba(202,151,3,0.1);
        z-index: -1;
      }

      footer { padding:28px 0; }
      .contact-phone a { text-decoration:none; }

      /* Gallery images */
      #gallery img { width:100%; height:320px; object-fit:contain; background: var(--surface); padding:6px; border-radius:8px; box-shadow:0 2px 6px rgba(0,0,0,0.15); border:1px solid rgba(35,61,83,0.25); }

      /* Modal image fit */
      #modalImage { max-height:80vh; object-fit:contain; width:100%; }

      /* Links and buttons */
      a, a.nav-link { color: var(--accent); }
      a:hover, a.nav-link:hover { color: #ff6a4b; }
      .btn-primary { background: var(--accent); border-color: var(--accent); color:#fff; }
      .btn-primary:hover { background: #ff6a4b; border-color: #ff6a4b; }

      /* ensure navbar brand stands out */
      .navbar-brand { color: var(--heading-main) !important; font-weight:700; }
      /* subtle translucent footer */
      footer.bg-light { background: linear-gradient(90deg, rgba(255,255,255,0.65), rgba(255,255,255,0.45)); }

      /* Custom centered nav (Tailwind-like look) */
      .custom-nav { background:#fff; box-shadow: 0 1px 2px rgba(0,0,0,0.08); z-index: 1030; }
      .custom-nav .nav-brand {
        font-size: 1.25rem;
        font-weight: 700;
        color: var(--text-blue) !important;
        text-decoration: none;
        letter-spacing: 0.3px;
      }
      .custom-nav .nav-brand:hover {
        color: var(--accent) !important;
      }
      .custom-nav .nav-links { text-transform: capitalize; }
      .custom-nav .nav-link {
        color: var(--text-blue) !important;
        border-bottom: 2px solid transparent;
        padding: 0.25rem 0.75rem;
        margin: 0 0.5rem;
        text-decoration: none;
      }
      .custom-nav .nav-link:hover {
        color: var(--accent) !important;
        border-bottom-color: var(--accent);
      }
      .custom-nav .nav-link.active {
        color: var(--text-blue) !important;
        border-bottom-color: var(--accent);
      }

      /* Social icon with hover effect */
      .social-icon {
        position: relative;
        list-style: none;
        flex-basis: 2.5rem;
      }
      .social-icon::after {
        position: absolute;
        content: attr(data-tooltip);
        inset: -45% auto auto 50%;
        z-index: 10;
        translate: -50%;
        padding: 0.25rem 0.75rem;
        font-size: 0.875rem;
        color: #fff;
        background: linear-gradient(-45deg, #feda75, #fa7e1e, #d62976, #962fbf, #4f5bd5);
        border-radius: 0.25rem;
        opacity: 0;
        visibility: hidden;
        pointer-events: none;
        transition: inset 0.4s cubic-bezier(0.47, 2, 0.41, 1.5), visibility 0.3s ease-in-out, opacity 0.2s ease-in-out;
      }
      .social-icon:has(a:hover, a:focus-visible)::after {
        opacity: 1;
        visibility: visible;
        inset-block-start: -60%;
      }
      .social-icon a {
        position: relative;
        display: flex;
        justify-content: center;
        align-items: center;
        aspect-ratio: 1;
        font-size: 1.25rem;
        color: var(--text-blue);
        border: 1px solid var(--text-blue);
        border-radius: 100%;
        text-decoration: none;
        outline: none;
        overflow: hidden;
        transition: color 0.3s ease-in-out;
      }
      .social-icon a > i {
        position: relative;
        z-index: 1;
      }
      .social-icon a::after {
        position: absolute;
        content: "";
        inset: 100% 0 0;
        background: linear-gradient(-45deg, #feda75, #fa7e1e, #d62976, #962fbf, #4f5bd5);
        pointer-events: none;
        transition: inset 0.3s ease-in-out;
      }
      .social-icon a:hover,
      .social-icon a:focus-visible {
        color: #fff;
      }
      .social-icon a:hover::after,
      .social-icon a:focus-visible::after {
        inset-block-start: 0;
      }

      /* Mobile menu toggle */
      .nav-toggle {
        display: none;
        background: none;
        border: none;
        font-size: 1.5rem;
        color: var(--text-blue);
        cursor: pointer;
        padding: 0.5rem;
      }
      .nav-toggle:hover {
        color: var(--accent);
      }

      /* Mobile responsive */
      @media (max-width: 768px) {
        body {
          padding-top: 60px;
        }
        .custom-nav .container > div {
          position: relative;
        }
        .nav-toggle {
          display: block;
        }
        .custom-nav .nav-links {
          position: absolute;
          top: 100%;
          left: 0;
          right: 0;
          flex-direction: column;
          background: #fff;
          box-shadow: 0 4px 6px rgba(0,0,0,0.1);
          padding: 1rem;
          gap: 0.5rem !important;
          margin-top: 1rem;
          display: none;
        }
        .custom-nav .nav-links.active {
          display: flex;
        }
        .custom-nav .nav-link {
          width: 100%;
          text-align: center;
          padding: 0.75rem;
          margin: 0 !important;
          border-bottom: none;
          border-left: 3px solid transparent;
        }
        .custom-nav .nav-link:hover,
        .custom-nav .nav-link.active {
          border-bottom: none;
          border-left-color: var(--accent);
          background: rgba(6,75,115,0.05);
        }
        .social-icon {
          margin: 0.5rem auto;
        }
      }

      /* Depth card effects (shadow tiers) */
      .card-1 {
        box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);
        transition: all 0.3s cubic-bezier(.25,.8,.25,1);
      }
      .card-1:hover {
        box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);
      }
      .card-2 {
        box-shadow: 0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23);
      }
      .card-3 {
        box-shadow: 0 10px 20px rgba(0,0,0,0.19), 0 6px 6px rgba(0,0,0,0.23);
      }
      .card-4 {
        box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);
      }
      .card-5 {
        box-shadow: 0 19px 38px rgba(0,0,0,0.30), 0 15px 12px rgba(0,0,0,0.22);
      }
    
    /* --- mobile menu: ensure above content + hamburger -> close icon --- */
    @media (max-width:768px) {
      .custom-nav { position: fixed; top: 0; left: 0; right: 0; z-index: 9999; }
      .custom-nav .nav-links { z-index: 9998; }
      .nav-toggle { position: relative; z-index: 10001; }
      /* Hamburger -> X animation */
      .nav-toggle .bars, .nav-toggle .close-x { display: inline-block; transition: transform .18s ease, opacity .18s ease; }
      .nav-toggle .close-x { display:none; opacity:0; transform: rotate(90deg) scale(0.9); }
      .nav-toggle.open .bars { display:none; opacity:0; transform: rotate(20deg) scale(0.9); }
      .nav-toggle.open .close-x { display:inline-block; opacity:1; transform: rotate(0deg) scale(1); }
    }
  </style>

/* --- Mobile menu fade/slide animation (injected) --- */
@media (max-width: 768px) {
  /* Make nav-links always present but hidden via opacity/transform to animate smoothly */
  .custom-nav .nav-links {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    flex-direction: column;
    background: #fff;
    box-shadow: 0 4px 6px rgba(0,0,0,0.08);
    padding: 0.75rem 1rem;
    gap: 0.5rem !important;
    margin-top: 0.5rem;
    /* start hidden but present for transitions */
    opacity: 0;
    transform: translateY(-10px);
    pointer-events: none;
    max-height: 0;
    overflow: hidden;
    transition: opacity 240ms cubic-bezier(.22,.9,.37,1), transform 240ms cubic-bezier(.22,.9,.37,1), max-height 300ms ease;
  }

  /* Active (visible) state */
  .custom-nav .nav-links.active {
    opacity: 1;
    transform: translateY(0);
    pointer-events: auto;
    max-height: 600px; /* large enough to show all items */
  }

  /* Slight fade/slide for each nav-link item for micro animation */
  .custom-nav .nav-link {
    transition: transform 200ms ease, opacity 200ms ease;
    opacity: 0.95;
  }
  .custom-nav .nav-links.active .nav-link {
    transform: translateY(0);
    opacity: 1;
  }
}
  </head>
  <body id="top">
    <!-- NAVBAR -->
    <nav class="custom-nav fixed-top">
      <div class="container">
        <div class="d-flex justify-content-between align-items-center py-3">
          <a href="#top" class="nav-brand">Talentronics</a>
          <button class="nav-toggle" onclick="toggleMenu(event)" aria-label="Toggle menu">
            <i class="fa-solid fa-bars"></i>
          </button>
          <div class="d-flex justify-content-center align-items-center gap-3 nav-links" id="navLinks">
            <a href="#events" class="nav-link active" onclick="closeMenu()">events</a>
            <a href="#schedule" class="nav-link" onclick="closeMenu()">schedule</a>
            <a href="#gallery" class="nav-link" onclick="closeMenu()">gallery</a>
            <a href="#contact" class="nav-link" onclick="closeMenu()">contact</a>
            <li class="social-icon" data-tooltip="Instagram">
              <a href="https://www.instagram.com/talentronics2k25_26" target="_blank" rel="noopener" aria-label="Instagram">
                <i class="fa-brands fa-instagram"></i>
              </a>
            </li>
          </div>
        </div>
      </div>
    </nav>

    <!-- HERO / HEADLINE -->
    <header class="hero">
      <div class="container">
        <div class="row align-items-center">
          <div class="col-md-7">
            <h1 class="display-6 fw-bold">Talentronics — 3 Days of Music, Culture & Sport</h1>
            <p class="lead">Join us from <strong>14th November</strong> to <strong>16th November</strong>. Below are technical, non-technical and sports events.</p>

            <!-- FORM LINK (replace placeholder) -->
            <p class="mt-3">Register here:</p>
            <p><a id="formLink" class="btn btn-lg btn-primary" href="https://docs.google.com/forms/d/e/1FAIpQLScWltyE55t43Fk7QqH8Ud3zoCtMtG7F2exSCCW5aR3tmdbOnA/formResponse" target="_blank" rel="noopener">Open Registration Form</a></p>

            <!-- Example embed (uncomment & replace src if you want an embedded form) -->
            <!--
            <div style="max-width:720px;">
              <iframe src="YOUR_GOOGLE_FORM_EMBED_URL_HERE" width="100%" height="800" frameborder="0" marginheight="0" marginwidth="0">Loading…</iframe>
            </div>
            -->

          </div>
          <div class="col-md-5 text-center">
            <img src="images/poster-placeholder.jpeg" class="img-fluid rounded shadow-sm" alt="Poster">
          </div>
        </div>
      </div>
    </header>

   <!-- START: EVENTS (updated) -->
<section id="events" class="mb-5">
  <h2 class="h4 mb-3">Events</h2>
  <div class="row g-3">
    <!-- TECHNICAL EVENTS HEADER -->
    <div class="col-12">
      <div class="mb-3">
        <h5 class="mb-1">Technical Events</h5>
        <p class="small text-muted">Coding, projects and startup pitches — test your technical skills!</p>
      </div>
    </div>

    <!-- BrainCode -->
    <div class="col-md-4">
      <div class="card card-1 p-3 event-card h-100">
        <h5 class="card-title">BRAINCODE</h5>
        <p class="small mb-1"><strong>Type:</strong> C - Code (individual)</p>
        <p class="mb-2">A timed C programming challenge. Language: C. Duration &amp; rounds announced on the day.</p>
        <p class="mb-0 small text-muted">Contact: <a href="tel:+918310024574" class="text-decoration-none">Siddarth: 8310024574</a></p>
      </div>
    </div>

    <!-- InnoTech -->
    <div class="col-md-4">
      <div class="card card-1 p-3 event-card h-100">
        <h5 class="card-title">INNOTECH</h5>
        <p class="small mb-1"><strong>Type:</strong> Project (team)</p>
        <p class="mb-2">Project presentation & demo. Team size: Min 2 — Max 4.</p>
        <p class="mb-0 small text-muted">Contact: <a href="tel:+917619462607" class="text-decoration-none">Srinivas: 7619462607</a></p>
      </div>
    </div>

    <!-- Electropreneur -->
    <div class="col-md-4">
      <div class="card card-1 p-3 event-card h-100">
        <h5 class="card-title">ELECTROPRENEUR</h5>
        <p class="small mb-1"><strong>Type:</strong> Startup Pitch (team)</p>
        <p class="mb-2">Pitch your startup idea. Team size: Min 2 — Max 4. 3 minute pitch + Q&amp;A.</p>
        <p class="mb-0 small text-muted">Contact: <a href="tel:+918310024574" class="text-decoration-none">Siddarth: 8310024574</a></p>
      </div>
    </div>

    <!-- NON-TECHNICAL HEADER -->
    <div class="col-12 mt-3">
      <div class="mb-3">
        <h5 class="mb-1">Non-Technical Events</h5>
        <p class="small text-muted">Creativity, performance, and fun.</p>
      </div>
    </div>

    <!-- Poster Recreation -->
    <div class="col-md-4">
      <div class="card card-1 p-3 event-card h-100">
        <h5 class="card-title">POSTER RECREATION</h5>
        <p class="small mb-1"><strong>Type:</strong> Solo or Team</p>
        <p class="mb-2">Recreate a poster using limited resources. Time limit: announced at venue.</p>
        <p class="mb-0 small text-muted">Contact: <a href="tel:+917619462607" class="text-decoration-none">Srinivas: 7619462607</a></p>
      </div>
    </div>

    <!-- Standup Comedy -->
    <div class="col-md-4">
      <div class="card card-1 p-3 event-card h-100">
        <h5 class="card-title">STANDUP COMEDY</h5>
        <p class="small mb-1"><strong>Type:</strong> Solo</p>
        <p class="mb-2">Open-mic standup. Keep content college-friendly. Time limit: 5 minutes.</p>
        <p class="mb-0 small text-muted">Contact: <a href="tel:+918310024574" class="text-decoration-none">Siddarth: 8310024574</a></p>
      </div>
    </div>

    <!-- Tech Rangoli -->
    <div class="col-md-4">
      <div class="card card-1 p-3 event-card h-100">
        <h5 class="card-title">TECH RANGOLI</h5>
        <p class="small mb-1"><strong>Type:</strong> Team</p>
        <p class="mb-2">Creative rangoli with a technical theme. Team size: Min 1 — Max 3.</p>
        <p class="mb-0 small text-muted">Contact: <a href="tel:+917619462607" class="text-decoration-none">Srinivas: 7619462607</a></p>
      </div>
    </div>

  </div>
</section>
<!-- END: EVENTS (updated) -->


      <!-- SCHEDULE -->
      <section id="schedule" class="mb-5">
        <h2 class="h4 mb-3">Schedule</h2>
        <div class="table-responsive">
          <table class="table table-striped">
            <thead>
              <tr>
                <th>Day</th>
                <th>Time</th>
                <th>Event</th>
                <th>Venue</th>
              </tr>
            </thead>
            <tbody>
  <tr>
    <td>13th</td>
    <td>All Day</td>
    <td>Technical &amp; Non-technical events</td>
    <td>Various Venues</td>
  </tr>
  <tr>
    <td>14th</td>
    <td>Morning</td>
    <td>Prize Distribution &amp; Cultural Activities</td>
    <td>Auditorium</td>
  </tr>
  <tr>
    <td>15th</td>
    <td>Afternoon</td>
    <td>Flash mob</td>
    <td>Main Building Lawn</td>
  </tr>
  <tr>
    <td>16th</td>
    <td>All Day</td>
    <td>Ethnic Day</td>
    <td>Main Building Lawn</td>
  </tr>
</tbody>
          </table>
        </div>
      </section>

      <!-- GALLERY -->
      <!-- START: GALLERY (click to preview) -->
      <section id="gallery" class="mb-5">
        <h2 class="h4 mb-3">Gallery</h2>
        <div class="row g-3">
          <div class="col-6 col-md-3">
            <img src="images/poster-placeholder.jpeg" alt="Poster" class="img-fluid" onclick="previewImage('images/poster-placeholder.jpeg','Poster')">
          </div>
          <div class="col-6 col-md-3">
            <img src="images/photo1.jpeg" alt="Photo 1" class="img-fluid" onclick="previewImage('images/photo1.jpeg','Photo 1')">
          </div>
          <div class="col-6 col-md-3">
            <img src="images/photo2.jpeg" alt="Photo 2" class="img-fluid" onclick="previewImage('images/photo2.jpeg','Photo 2')">
          </div>
          <div class="col-6 col-md-3">
            <img src="images/photo3.jpeg" alt="Photo 3" class="img-fluid" onclick="previewImage('images/photo3.jpeg','Photo 3')">
          </div>
          <div class="col-6 col-md-3">
            <img src="images/photo4.jpeg" alt="Photo 4" class="img-fluid" onclick="previewImage('images/photo4.jpeg','Photo 4')">
          </div>
          <div class="col-6 col-md-3">
            <img src="images/photo5.jpeg" alt="Photo 5" class="img-fluid" onclick="previewImage('images/photo5.jpeg','Photo 5')">
          </div>
          <div class="col-6 col-md-3">
            <img src="images/photo6.jpeg" alt="Photo 6" class="img-fluid" onclick="previewImage('images/photo6.jpeg','Photo 6')">
          </div>
          <div class="col-6 col-md-3">
            <img src="images/photo7.png" alt="Photo 7" class="img-fluid" onclick="previewImage('images/photo7.png','Photo 7')">
          </div>
        </div>
      </section>
      <!-- END: GALLERY (click to preview) -->

      <!-- CONTACT -->
  <section id="contact" class="mb-5 fw-bold">
        <h2 class="h4 mb-3">Contact & Locations</h2>
        <p class="mb-1">General queries: Siddarth <a href="tel:+918310024574" class="text-decoration-none">+91 83100 24574</a></p>
        <div class="mb-3">
          <h6 class="mb-1">Event Coordinators (Phone)</h6>
          <ul class="list-unstyled contact-phone mb-0">
            <li><strong>Student Coordinator:</strong> <a href="tel:+918310024574">+91 83100 24574</a></li>
            <li><strong>Faculty In-charge: Mr. Prashanth Keni</strong> <a href="tel:+919980539035">+91 99805 39035</a></li>
          </ul>
        </div>
        <div class="mb-3">
          <h6 class="mb-1">Event Locations (Lab / Class / Venue)</h6>
          <ul class="small mb-0">
            <li><strong>Main Stage:</strong> Auditorium</li>
            <li><strong>Cultural:</strong> Auditorium</li>
            <li><strong>Flashmob:</strong> RYMEC Main Entrance</li>
          </ul>
        </div>
        <p class="mb-0 small text-muted">If you receive registrations via Google Forms, share the results sheet with the event coordinators and back up a copy.</p>
      </section>

    </main>

    <footer class="bg-light">
      <div class="container text-center">
        <small class="text-muted">&copy; <span id="year"></span> RYMEC. Built by 22EC011.</small>
      </div>
    </footer>

    <!-- Image Preview Modal -->
    <div class="modal fade" id="imagePreviewModal" tabindex="-1" aria-labelledby="imagePreviewModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content bg-transparent border-0">
          <div class="modal-body p-0 text-center position-relative">
            <button type="button" class="btn-close position-absolute top-0 end-0 m-2 btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            <img id="modalImage" src="" alt="" class="img-fluid rounded">
            <p id="modalCaption" class="mt-2 text-light small"></p>
          </div>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    
  </body>
<!-- APPENDED: robust preview + mobile menu script (replaces previous) -->
<script>
(() => {
  // put year (safely)
  try { const y = document.getElementById('year'); if (y) y.textContent = new Date().getFullYear(); } catch(e){}

  // modal preview
  function previewImage(src, alt) {
    const modalImg = document.getElementById('modalImage');
    const modalCaption = document.getElementById('modalCaption');
    if (modalImg) modalImg.src = src || modalImg.src;
    if (modalImg) modalImg.alt = alt || '';
    if (modalCaption) modalCaption.textContent = alt || '';
    const el = document.getElementById('imagePreviewModal');
    if (!el) return;
    let m = bootstrap.Modal.getInstance(el);
    if (!m) m = new bootstrap.Modal(el);
    m.show();
  }
  // expose to global scope (used by HTML onclicks)
  window.previewImage = previewImage;

  // MENU LOGIC
  const navLinksEl = () => document.getElementById('navLinks');
  const toggleBtn = () => document.querySelector('.nav-toggle');

  function openMenu() {
    const nav = navLinksEl(); const btn = toggleBtn();
    if (!nav) return;
    nav.classList.add('active');
    // animate hamburger -> X
    if (btn) btn.classList.add('open');
    // optional: lock body scroll on mobile when open
    document.documentElement.style.overflow = 'hidden';
  }

  function closeMenu() {
    const nav = navLinksEl(); const btn = toggleBtn();
    if (!nav) return;
    nav.classList.remove('active');
    if (btn) btn.classList.remove('open');
    document.documentElement.style.overflow = '';
  }

  function toggleMenu(evt) {
    evt && evt.stopPropagation();
    const nav = navLinksEl();
    if (!nav) return;
    if (nav.classList.contains('active')) closeMenu();
    else openMenu();
  }

  // attach to button (supports older markup)
  document.addEventListener('DOMContentLoaded', () => {
    const btn = toggleBtn();
    if (btn) {
      // If the icon markup is only an <i>, we add span wrappers to allow swap
      if (!btn.querySelector('.bars')) {
        // create bars and close-x spans inside the button for animation
        btn.innerHTML = '<span class=\"bars\"><i class=\"fa-solid fa-bars\"></i></span><span class=\"close-x\"><i class=\"fa-solid fa-xmark\"></i></span>';
      }
      btn.addEventListener('click', toggleMenu, {passive:true});
    }

    // Close menu on scroll (debounced small threshold to avoid immediate closing)
    let lastScroll = window.scrollY;
    let scrollTimer = null;
    window.addEventListener('scroll', () => {
      if (!navLinksEl()?.classList.contains('active')) { lastScroll = window.scrollY; return; }
      // if user scrolls more than 5px, close menu
      if (Math.abs(window.scrollY - lastScroll) > 5) closeMenu();
      // update lastScroll after short delay
      clearTimeout(scrollTimer);
      scrollTimer = setTimeout(() => lastScroll = window.scrollY, 200);
    }, {passive:true});

    // Click outside to close
    document.addEventListener('click', (e) => {
      const nav = navLinksEl(); const btnEl = toggleBtn();
      if (!nav || !nav.classList.contains('active')) return;
      // If click is inside nav or the toggle, ignore
      if (nav.contains(e.target) || (btnEl && btnEl.contains(e.target))) return;
      closeMenu();
    }, {passive:true});

    // Close on Escape
    document.addEventListener('keydown', (e) => { if (e.key === 'Escape') closeMenu(); });

    // Attach smooth-scroll + close behavior to all nav links
    document.querySelectorAll('.nav-link').forEach(link => {
      link.addEventListener('click', (evt) => {
        // smooth scroll if anchor
        const href = link.getAttribute('href') || '';
        if (href.startsWith('#')) {
          evt.preventDefault();
          const target = href === '#' || href === '#top' ? document.documentElement : document.querySelector(href);
          if (target) target.scrollIntoView({behavior:'smooth', block:'start'});
        }
        // ensure menu closed after a tiny delay
        setTimeout(closeMenu, 160);
      }, {passive:false});
    });

    // Social links should close menu after click
    document.querySelectorAll('.social-icon a').forEach(a => {
      a.addEventListener('click', () => setTimeout(closeMenu, 100), {passive:true});
    });
  });

  // expose functions for debugging if needed
  window.toggleMenu = toggleMenu;
  window.openMenu = openMenu;
  window.closeMenu = closeMenu;

})();
</script>
<!-- END APPENDED -->
  </body>
<!-- APPENDED: improved preview + mobile menu script -->
<script>
  // set year
  try {
    document.getElementById('year').textContent = new Date().getFullYear();
  } catch (e){/* ignore if element missing */ }

  // previewImage: show modal with clicked image
  function previewImage(src, alt) {
    var modalImg = document.getElementById('modalImage');
    var modalCaption = document.getElementById('modalCaption');
    if (modalImg) modalImg.src = src;
    if (modalImg) modalImg.alt = alt || '';
    if (modalCaption) modalCaption.textContent = alt || '';

    var el = document.getElementById('imagePreviewModal');
    if (el) {
      var m = bootstrap.Modal.getInstance(el);
      if (!m) m = new bootstrap.Modal(el);
      m.show();
    }
  }

  // MENU HANDLING (mobile)
  function toggleMenu(event) {
    event.stopPropagation();
    var navLinks = document.getElementById('navLinks');
    if (!navLinks) return;
    navLinks.classList.toggle('active');
  }

  function closeMenu() {
    var navLinks = document.getElementById('navLinks');
    if (!navLinks) return;
    navLinks.classList.remove('active');
  }

  // Close menu when clicking outside or when scrolling
  document.addEventListener('click', function (event) {
    var navLinks = document.getElementById('navLinks');
    var toggle = document.querySelector('.nav-toggle');
    if (!navLinks || !toggle) return;

    // if menu open and click outside navLinks and not the toggle button, close
    if (navLinks.classList.contains('active') &&
        !navLinks.contains(event.target) &&
        !toggle.contains(event.target)) {
      closeMenu();
    }
  }, {passive:true});

  // close on scroll (only if open)
  var closeOnScroll = function () {
    var navLinks = document.getElementById('navLinks');
    if (navLinks && navLinks.classList.contains('active')) {
      closeMenu();
    }
  };
  window.addEventListener('scroll', closeOnScroll, {passive:true});

  // Wire nav links: smooth scroll to section and auto-close menu after click
  (function attachNavHandlers() {
    var navLinks = document.querySelectorAll('.nav-link');
    if (navLinks && navLinks.length) {
      navLinks.forEach(function(link){
        link.addEventListener('click', function(e){
          // if it's an anchor to a section (starts with #)
          var href = link.getAttribute('href') || '';
          if (href.startsWith('#')) {
            e.preventDefault();
            var sanitized = href === '#' ? 'top' : href;
            var target = (sanitized === 'top') ? document.documentElement : document.querySelector(sanitized);
            if (target) {
              target.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }
          }
          // ensure menu closes after navigation (delay slightly to allow user to see)
          setTimeout(closeMenu, 200);
        }, {passive:false});
      });
    }

    // Social icons: close menu after click (for external links)
    var socialAnchors = document.querySelectorAll('.social-icon a');
    socialAnchors.forEach(function(a){
      a.addEventListener('click', function(){
        // close the menu shortly after opening the link
        setTimeout(closeMenu, 200);
      });
    });
  })();

  // Optional: close menu when user taps any non-nav link that scrolls to a section
  // (covers possible other anchors)
  document.querySelectorAll('a[href^="#"]').forEach(function(a){
    a.addEventListener('click', function(){
      setTimeout(closeMenu, 200);
    });
  });

  // Accessibility: close menu with Escape key
  document.addEventListener('keydown', function(e){
    if (e.key === 'Escape') closeMenu();
  });
</script>
  </body>
<!-- APPENDED: robust preview + mobile menu script (replaces previous) -->
<script>
(() => {
  // put year (safely)
  try { const y = document.getElementById('year'); if (y) y.textContent = new Date().getFullYear(); } catch(e){}

  // modal preview
  function previewImage(src, alt) {
    const modalImg = document.getElementById('modalImage');
    const modalCaption = document.getElementById('modalCaption');
    if (modalImg) modalImg.src = src || modalImg.src;
    if (modalImg) modalImg.alt = alt || '';
    if (modalCaption) modalCaption.textContent = alt || '';
    const el = document.getElementById('imagePreviewModal');
    if (!el) return;
    let m = bootstrap.Modal.getInstance(el);
    if (!m) m = new bootstrap.Modal(el);
    m.show();
  }
  // expose to global scope (used by HTML onclicks)
  window.previewImage = previewImage;

  // MENU LOGIC
  const navLinksEl = () => document.getElementById('navLinks');
  const toggleBtn = () => document.querySelector('.nav-toggle');

  function openMenu() {
    const nav = navLinksEl(); const btn = toggleBtn();
    if (!nav) return;
    nav.classList.add('active');
    // animate hamburger -> X
    if (btn) btn.classList.add('open');
    // optional: lock body scroll on mobile when open
    document.documentElement.style.overflow = 'hidden';
  }

  function closeMenu() {
    const nav = navLinksEl(); const btn = toggleBtn();
    if (!nav) return;
    nav.classList.remove('active');
    if (btn) btn.classList.remove('open');
    document.documentElement.style.overflow = '';
  }

  function toggleMenu(evt) {
    evt && evt.stopPropagation();
    const nav = navLinksEl();
    if (!nav) return;
    if (nav.classList.contains('active')) closeMenu();
    else openMenu();
  }

  // attach to button (supports older markup)
  document.addEventListener('DOMContentLoaded', () => {
    const btn = toggleBtn();
    if (btn) {
      // If the icon markup is only an <i>, we add span wrappers to allow swap
      if (!btn.querySelector('.bars')) {
        // create bars and close-x spans inside the button for animation
        btn.innerHTML = '<span class=\"bars\"><i class=\"fa-solid fa-bars\"></i></span><span class=\"close-x\"><i class=\"fa-solid fa-xmark\"></i></span>';
      }
      btn.addEventListener('click', toggleMenu, {passive:true});
    }

    // Close menu on scroll (debounced small threshold to avoid immediate closing)
    let lastScroll = window.scrollY;
    let scrollTimer = null;
    window.addEventListener('scroll', () => {
      if (!navLinksEl()?.classList.contains('active')) { lastScroll = window.scrollY; return; }
      // if user scrolls more than 5px, close menu
      if (Math.abs(window.scrollY - lastScroll) > 5) closeMenu();
      // update lastScroll after short delay
      clearTimeout(scrollTimer);
      scrollTimer = setTimeout(() => lastScroll = window.scrollY, 200);
    }, {passive:true});

    // Click outside to close
    document.addEventListener('click', (e) => {
      const nav = navLinksEl(); const btnEl = toggleBtn();
      if (!nav || !nav.classList.contains('active')) return;
      // If click is inside nav or the toggle, ignore
      if (nav.contains(e.target) || (btnEl && btnEl.contains(e.target))) return;
      closeMenu();
    }, {passive:true});

    // Close on Escape
    document.addEventListener('keydown', (e) => { if (e.key === 'Escape') closeMenu(); });

    // Attach smooth-scroll + close behavior to all nav links
    document.querySelectorAll('.nav-link').forEach(link => {
      link.addEventListener('click', (evt) => {
        // smooth scroll if anchor
        const href = link.getAttribute('href') || '';
        if (href.startsWith('#')) {
          evt.preventDefault();
          const target = href === '#' || href === '#top' ? document.documentElement : document.querySelector(href);
          if (target) target.scrollIntoView({behavior:'smooth', block:'start'});
        }
        // ensure menu closed after a tiny delay
        setTimeout(closeMenu, 160);
      }, {passive:false});
    });

    // Social links should close menu after click
    document.querySelectorAll('.social-icon a').forEach(a => {
      a.addEventListener('click', () => setTimeout(closeMenu, 100), {passive:true});
    });
  });

  // expose functions for debugging if needed
  window.toggleMenu = toggleMenu;
  window.openMenu = openMenu;
  window.closeMenu = closeMenu;

})();
</script>
<!-- END APPENDED -->
  </body>
</html>
